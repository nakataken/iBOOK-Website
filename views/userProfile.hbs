<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Profile</title>
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Righteous">
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans+Condensed:300,300i,700">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/mainHome.css">
    <link rel="shortcut icon" href="/images/new/eb4.png" type="image/x-icon">
    <script src="https://kit.fontawesome.com/85f9dbedb7.js" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
</head>

<body>
    <!--Navigation Bar-->

    {{> categoryHeader}}


    <div class="container-fluid profile p-0 ">
 
    </div>


     <section class="profile-div container col-12">
  
            <div class="row col-lg-8 col-md-10 col-12 mx-auto">
                <div class="col-md-4 col-12">
                    
                        <div class="card">
              
                            <div class="card-body">
                                
                                <div class="side-tab d-block align-items-center">
                                    <div class=" mx-auto col-8">
                                        <img src="/images/new/user.png" class="img-fluid">
                                    </div>
                                    <span class="d-flex justify-content-center"><label class="checkname">
                                            <h5 class="font-weight-bold">{{userData.0.USER_NAME}}</h5>
                                        </label></span>
                                    <span>
                                    
                                    <hr class="my-4"></span>

                                    <div class="customer-details active container d-flex align justify-content-start"
                                        type="button" onclick="openContent(event, 'customer-info')">
                                        <div class="d-block align-items-center mr-3">
                                            <i class="fas fa-user"></i>
                                        </div>
                                        <div class="d-block">
                                            <h5>Account</h5>
                                            <p class="text-muted">Update your name and email address</p>
                                        </div>
                                    </div>
                                    <hr>
                                    <div class="customer-details container d-flex align justify-content-start"
                                        type="button" onclick="openContent(event, 'customer-books')">
                                        <div class="d-block align-items-center mr-3">
                                            <i class="fas fa-heart"></i>
                                        </div>
                                        <div class="d-block">
                                            <h5>Wishlist</h5>
                                            <p class="text-muted">View the lists of books you added on your wishlist</p>
                                        </div>
                                    </div>
                                    <span>
                                        <hr class="my-4"></span>
                                    <div class="customer-details container d-flex align justify-content-start"
                                        type="button" onclick="openContent(event, 'customer-change-pass')">
                                        <div class="d-block align-items-center mr-3">
                                            <i class="fas fa-cog"></i>
                                        </div>
                                        <div class="d-block">
                                            <h5>Settings</h5>
                                            <p class="text-muted">Change password</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    
                    
                </div>

                <div class="col-md-8 col-12">

                    <div class="row cart-card d-flex align-items-center">
                        <div id="customer-info" class="customer-detail-card side-content-tab col-md-12">
                            <div class="card-1 card p-3">
                                <div class="card-body">
                                    {{#if messageSuccess}}
                                    <p class="alert alert-success text-center p-1">{{messageSuccess}}</p>
                                    {{/if}}
                                    {{#if message}}
                                    <p class="alert alert-danger text-center p-1">{{message}}</p>
                                    {{/if}}
                                    <div class="container p-3">
                                        <form class="form-box container px-3"
                                            action="/auth/user/change/{{userData.0.USER_ID}}" method="POST">
                                            <h4 class="font-weight-bold">Information Details</h4>
                                            <hr class="my-4">
                                            <div class="username d-flex align-items-center">
                                                <label for="">Username: <h5 class="font-weight-bold">
                                                        {{userData.0.USER_NAME}}</h5>
                                                </label>
                                            </div>
                                            <div class="email-address d-flex align-items-center">
                                                <label for="">Email Address: <h5 class="font-weight-bold">
                                                        {{userData.0.USER_EMAIL}}</h5>
                                                </label>
                                            </div>

                                            <hr class="my-4">
                                            <p class="text-muted mr-2">
                                                To change your username and email address.
                                            </p>
                                            <div class="d-flex">
                                                <label for="" class="text-muted mr-2">Click</label>
                                                <p type="button" class="enable-btn" onclick="openInfoField()">change.
                                                </p>
                                            </div>
                                            <hr class="my-4">

                                            <div class="info-update" id="info-update">

                                                <h6 class="font-weight-bold pb-3">Manage Information</h6>
                                                <div class="form-input">
                                                    <span><i class="fa fa-book-reader"></i></span>
                                                    <input type="username" name="userUsername"
                                                        placeholder="New Username" tabindex="10" minlength="1"
                                                        maxlength="10" required>
                                                </div>
                                                <div class="form-input">
                                                    <span><i class="fa fa-envelope-o"></i></span>
                                                    <input type="email" name="userEmail" placeholder="New Email Address"
                                                        tabindex="10" required maxlength="50">
                                                </div>
                                                <div class="mb-3">
                                                    <button type="submit" class="btn btn-block text-uppercase">
                                                        Save Changes
                                                    </button>
                                                </div>
                                                <hr class="my-4">
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                        {{#if messages.success}}
                            <script>
                                alert("Your purchase is successful! Check the book on your library.")
                            </script>
                        {{/if}}
                        <div id="customer-books" class="customer-order-card side-content-tab col-md-12">
                            <div class="card-2 card p-3">
                                <div class="tab row pt-3">
                                    <div class="my-books-tab active tablinks col-12 d-block text-center"
                                        type="button" onclick="openTab(event, 'my-books')">
                                        <h4 class="font-weight-bold"><i class="fas fa-heart"></i> My Wishlists</h4>
                                    </div>
                                </div>
                            
                                <div id="my-books" class="tabcontent">
                                    <div class="card-body">
                                        <div class="container">
                                            <div class="row">
                                                {{#each libraryBooks}}
                                                <div class="col-md-4 col-sm-6 col-6 mb-3">
                                                    <div class="d-block align-items-center justify-content-center">
                                                        <div class="product-top d-flex justify-content-center mb-2">
                                                            <a href="http://localhost:8080/viewPdf/{{this.title}}"><img
                                                                src="http://localhost:8080/uploadedImages/{{this.cover}}"></a>
                                                        </div>
                                                        <div class="product-bottom text-center">
                                                            <h6>{{this.title}}</h6>
                                                        </div>
                                                    </div>
                                                </div>
                                                {{/each}}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div id="customer-change-pass" class="customer-password-card side-content-tab col-md-12">
                            <div class="card-1 card p-3">
                                <div class="card-body">
                                    <div class="container p-3">
                                        <form class="form-box container px-3"
                                            action="/auth/user/change-password/{{userData.0.USER_ID}}" method="POST">
                                            <h4 class="font-weight-bold">Change Password</h4>
                                            <hr class="my-4">
                                            <p class="text-muted mr-2">
                                                It's a good idea to use a strong password that you don't use elsewhere.
                                            </p>
                                            <div class="d-flex">
                                                <label for="" class="text-muted mr-2">Click</label>
                                                <p type="button" class="enable-btn" onclick="openChangePass()">change.
                                                </p>
                                            </div>
                                            <hr class="my-4">
                                            <div class="info-update" id="password-update">
                                                <h6 class="font-weight-bold pb-3">Manage Password</h6>
                                                <div class="form-input">
                                                    <span><i class="fa fa-lock"></i></span>
                                                    <input type="password" name="userCurrentPassword"
                                                        placeholder="Current Password" tabindex="10" required>
                                                </div>
                                                <div class="form-input">
                                                    <span><i class="fa fa-key"></i></span>
                                                    <input type="password" name="userPassword"
                                                        placeholder="New Password" tabindex="10" required minlength="6"
                                                        maxlength="10">
                                                </div>
                                                <div class="form-input">
                                                    <span><i class="fa fa-key"></i></span>
                                                    <input type="password" name="userConfirm"
                                                        placeholder="Confirm Password" tabindex="10" required
                                                        minlength="6" maxlength="10">
                                                </div>
                                                <div class="mb-3">
                                                    <button type="submit" class="btn btn-block text-uppercase">
                                                        Update Password
                                                    </button>
                                                </div>
                                                <hr class="my-4">
                                            </div>
                                            <h4 class="font-weight-bold">Manage Account</h4>
                                            <hr class="my-4">
                                            <p class="text-muted mr-2">
                                                Deactivation settings.
                                            </p>
                                            <div class="d-flex">
                                                <label for="" class="text-muted mr-2">Click</label>
                                                <p type="button" class="enable-btn" onclick="openDeactivation()">here.
                                                </p>
                                            </div>
                                            <hr class="my-3">
                                            <div class="info-update" id="deactivation">
                                                <div class="d-flex justify-content-between">
                                                    <p class="font-weight-bold">Account</p>
                                                    <a class="deactivation-btn" type="button"
                                                        href="/userDeactivate/{{userData.0.USER_ID}}" onclick="
                                                                if (!confirm('Are you sure you want to deactivate your account?'))
                                                                {
                                                                    return false
                                                                }
                                                                "><button class="btn" id="deact">Deactivate</button></a>
                                                </div>
                                                <hr class="my-2">
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
    </section>
    <!--Single Product-->

    
    <!--Product Description-->



    <!--Footer-->
    <section class="footer">
        <div class="container-fluid text-left mx-auto col-12 ">
            <div class="row col-xl-8 col-lg-12 col-10 mx-auto py-4">
                <div class=" col-lg-4 col-10 my-1 mx-auto">
                    <div class="col-8 p-0 ">
                        <a href="/">
                            <img src="images/new/logo-white-2.png" class="col-10"></a>
                    </div>

                     <div class="col-12 mx-auto mt-3">
                                <a href="http://localhost:8080/confirmation"><i class="fab fa-facebook-square fa-2x pr-1"></i></a>
                                <i class="fab fa-twitter-square fa-2x px-1"></i>
                                <i class="fab fa-instagram-square fa-2x px-1"></i>
                                <i class="fab fa-linkedin  fa-2x pl-1"></i>
                    </div>
                    <div class="column col-12 mt-3">
                        <h3>Contact Us</h3>
                        <p class="mb-1">Questions? We've got answers.</p>
                        <button type="button" class="btn btn-contact-us py-1 px-2 ">Contact Us</button>
                    </div>
                </div>

                <div class="row col-lg-4 col-10 my-1 mx-auto">
                    <div class="column col-12 ">
                        <h3>About Us</h3>
                        <div class="row col-12">
                            <div class="col-1">
                                <i class="fas fa-map-marker-alt"></i>
                            </div>
                            <div class="col-10">
                                <p class="m-1">7525 Carriage Ave.Dekalb, IL 60115 7525 Carriage Ave.Dekalb, IL 60115</p>
                            </div>
                        </div>
                        <div class="row col-12 mt-1">
                            <div class="col-1">
                                <i class="fas fa-phone"></i>
                            </div>
                            <div class="col-10">
                                <p class="m-1">+1-202-555-0151</p>
                            </div>
                        </div>
                        <div class="row col-12 mt-2">
                            <div class="col-1">
                                <i class="fas fa-envelope"></i>
                            </div>
                            <div class="col-10">
                                <p class="m-1">e-bookasyon.us@domain.com</p>
                            </div>
                        </div>
                        
                        
                    </div>
                </div>

                <div class="row col-lg-4 col-10 my-1 mx-auto">
                    <div class="column col-12 ">
                        <h3>Subscribe</h3>
                        <div class="form-group col-12 p-0">
                            <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Enter email">
                        </div>
                        <div class="col-12 p-0">
                              <button type="submit" class="btn btn-subscribe col-12">Subscribe</button>
                        </div>
                      
                        
                        
                        
                    </div>
                </div>

                
            </div>
           
        </div>
    </section>



        <script type="text/javascript">
            $(window).on('scroll', function () {
                if ($(window).scrollTop()) {
                    $('nav').addClass('black');
                } else {
                    $('nav').removeClass('black');
                }
            })
        </script>

        <script>
            /* Open when someone clicks on the span element */
            function openNav() {
                if (document.getElementById("myNav").style.width == "100%") {
                    document.getElementById("myNav").style.width = "0";
                } else {
                    document.getElementById("myNav").style.width = "100%";
                }
            }
        </script>

        <script>
            function closeNav() {
                if (document.getElementById("myNav").style.width == "100%") {
                    document.getElementById("myNav").style.width = "0";
                } else {
                    document.getElementById("myNav").style.width = "100%";
                }
            }
        </script>

        <script>
            const scrollUp = document.querySelector('.scrollUp');
            window.addEventListener('scroll', () => {
                if (window.pageYOffset > 100) {
                    scrollUp.classList.add("active");
                } else {
                    scrollUp.classList.remove("active");
                }
            })
        </script>

        <script>
            $(document).ready(function () {
                $('[data-toggle=search-form]').click(function () {
                    $('.search-form-wrapper').toggleClass('open');
                    $('.search-form-wrapper .search').focus();
                    $('html').toggleClass('search-form-open');
                });
                $('[data-toggle=search-form-close]').click(function () {
                    $('.search-form-wrapper').removeClass('open');
                    $('html').removeClass('search-form-open');
                });
                $('.search-form-wrapper .search').keypress(function (event) {
                    if ($(this).val() == "Search") $(this).val("");
                });
            });
        </script>

        <script>
            $(document).ready(function () {
                // Add smooth scrolling to all links
                $("a").on('click', function (event) {

                    // Make sure this.hash has a value before overriding default behavior
                    if (this.hash !== "") {
                        // Prevent default anchor click behavior
                        event.preventDefault();

                        // Store hash
                        var hash = this.hash;

                        // Using jQuery's animate() method to add smooth page scroll
                        // The optional number (800) specifies the number of milliseconds it takes to scroll to the specified area
                        $('html, body').animate({
                            scrollTop: $(hash).offset().top
                        }, 800, function () {

                            // Add hash (#) to URL when done scrolling (default click behavior)
                            window.location.hash = hash;
                        });
                    } // End if
                });
            });
        </script>

        <script>
            function openInfoField() {
                var x = document.getElementById("info-update");
                if (x.style.display === "block") {
                    x.style.display = "none";
                } else {
                    x.style.display = "block";
                }
            }

            function openChangePass() {
                var x = document.getElementById("password-update");
                if (x.style.display === "block") {
                    x.style.display = "none";
                } else {
                    x.style.display = "block";
                }
            }

            function openDeactivation() {
                var x = document.getElementById("deactivation");
                if (x.style.display === "block") {
                    x.style.display = "none";
                } else {
                    x.style.display = "block";
                }
            }
        </script>

        <script>
            function openTab(evt, tabButton) {
                // Declare all variables
                var i, tabcontent, tablinks;

                // Get all elements with class="tabcontent" and hide them
                tabcontent = document.getElementsByClassName("tabcontent");
                for (i = 0; i < tabcontent.length; i++) {
                    tabcontent[i].style.display = "none";
                }

                // Get all elements with class="tablinks" and remove the class "active"
                tablinks = document.getElementsByClassName("tablinks");
                for (i = 0; i < tablinks.length; i++) {
                    tablinks[i].className = tablinks[i].className.replace(" active", "");
                }

                // Show the current tab, and add an "active" class to the button that opened the tab
                document.getElementById(tabButton).style.display = "block";
                evt.currentTarget.className += " active";
            }
        </script>

        <script>
            function readURL(input) {

                if (input.files && input.files[0]) {

                    if (!input.files[0].type.match(/.(jpg|jpeg|png|gif)$/i)) {
                        alert('not an image');

                    }
                    var reader = new FileReader();

                    reader.onload = function (e) {
                        $('#blah').attr('src', e.target.result);
                    }

                    reader.readAsDataURL(input.files[0]);
                }
            }

            $("#imgInp").change(function () {
                readURL(this);
            });
        </script>

        <script>
            function openContent(evt, contentTab) {
                // Declare all variables
                var i, tabcontent, tablinks;

                // Get all elements with class="tabcontent" and hide them
                tabcontent = document.getElementsByClassName("side-content-tab");
                for (i = 0; i < tabcontent.length; i++) {
                    tabcontent[i].style.display = "none";
                }

                // Get all elements with class="tablinks" and remove the class "active"
                tablinks = document.getElementsByClassName("customer-details");
                for (i = 0; i < tablinks.length; i++) {
                    tablinks[i].className = tablinks[i].className.replace(" active", "");
                }

                // Show the current tab, and add an "active" class to the button that opened the tab
                document.getElementById(contentTab).style.display = "block";
                evt.currentTarget.className += " active";
            }
        </script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

</body>

</html>
