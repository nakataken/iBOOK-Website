<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

    <title>All Books</title>

    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Righteous">
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans+Condensed:300,300i,700">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/mainHome.css">
    <link rel="shortcut icon" href="/images/favicon.ico" type="image/x-icon" />
    <script src="https://kit.fontawesome.com/85f9dbedb7.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
</head>

<body>
    {{> categoryHeader}}
    <hr class="my-5">
    <div class="container-fluid young_adult">
        <div class="row">

        </div>
    </div>

    <div class="container">
        <div class="row">
            <div class="col-lg-6 col-md-6 col-sm-6 col-7">
                <div class="title-box">

                    <h5>{{title}}</h5>

                </div>
            </div>
            <div class="ml-auto col-lg-6 col-md-6 col-sm-6 col-5 mb-4">
                <div class="dl float-right">
                    <form action="/data/displaySortBooks" method="POST">
                        <div class="dl float-left">
                            <select class="custom-select" name="sortBooks" id="sortBooks" onchange="this.form.submit()">
                                <option class="text-muted" name="default" value="default">Sort by..</option>
                                <option name="sortTitleAsc" value="sortTitleAsc">Title:
                                    A - Z</option>
                                <option name="sortTitleDesc" value="sortTitleDesc">
                                    Title: Z - A</option>
                                <option name="sortPriceAsc" value="sortPriceAsc">Price:
                                    Low - High</option>
                                <option name="sortPriceDesc" value="sortPriceDesc">
                                    Price: High - Low </option>>
                            </select>
                        </div>
                    </form>

                </div>
            </div>
        </div>
        <div class="row">
            {{#each bookData}}
            <div class="col-lg-3 col-md-4 col-sm-6 col-6">
                <div class="product-top">
                    <a href="http://localhost:8080/display/{{this.BOOK_CATEGORY}}/{{this.BOOK_TITLE}}">
                        <img src='http://localhost:8080/uploadedImages/{{this.BOOK_COVER}}'></a>
                    <div class="overlay-right">
                        <button type="button" class="btn btn-secondary" title="Quick Shop"
                            onclick="location.href='http://localhost:8080/display/{{this.BOOK_CATEGORY}}/{{this.BOOK_TITLE}}'">
                            <i class="fa fa-eye"></i>
                        </button>
                        <button type="button" class="btn btn-secondary" title="Add to Wishlist">
                            <i class="fa fa-heart-o"></i>

                        </button>
                        <form action="/add/{{this.BOOK_ID}}" method="GET">
                            <button type="submit" class="btn btn-secondary" title="Add to Cart"
                                onclick="this.form.submit()">
                                <i class="fa fa-shopping-cart"></i>
                            </button>
                        </form>
                    </div>
                </div>
                <div class="product-bottom text-center">
                    <h3>{{this.BOOK_TITLE}}</h3>
                    <h5>{{this.BOOK_AUTHOR}}</h5>
                    <h5>{{this.BOOK_PRICE}}</h5>
                </div>
            </div>
            {{/each}}

        </div>
    </div>
    </div>
    <!--Main Body-->

    <!--Pagination-->
    <hr class="mx-3">

    <section class="page-nav" aria-label="page-nav">
        <ul class="pagination justify-content-center" name="pageBooks">
            <li class="page-item"><a class="page-link" href="/display/all-books/1" name='1'>1</a></li>
            <li class="page-item"><a class="page-link" href="/display/all-books/2" name='2'>2</a></li>
        </ul>
    </section>

    <!--Footer-->
    <section class="footer">
        <div class="container text-left">
            <div class="row">
                <div class="col-md-4">
                    <h1>Useful Links</h1>
                    <p>Privacy Policy</p>
                    <p>Terms of Use</p>
                    <p>Return Policy</p>
                    <p>Discount Coupons</p>
                </div>
                <div class="col-md-4">
                    <h1>Company</h1>
                    <p>About Us</p>
                    <p>Contact Us</p>
                    <p>Career</p>
                    <p>Affiliate</p>
                </div>
                <div class="col-md-4">
                    <h1>Follow Us On</h1>
                    <p><i class="fa fa-facebook-official"></i> Facebook</p>
                    <p><i class="fa fa-youtube-play"></i> Youtube</p>
                    <p><i class="fa fa-linkedin"></i> Linkedin</p>
                    <p><i class="fa fa-twitter"></i> Twitter</p>
                </div>
            </div>
            <hr>
            <p class="copyright">Made with <i class="fa fa-heart-o"></i>
                by iBOOK
            </p>
        </div>
    </section>

    <script type="text/javascript">
        $(window).on('scroll', function () {
            if ($(window).scrollTop()) {
                $('nav').addClass('black');
            } else {
                $('nav').removeClass('black');
            }
        })
    </script>

    <script>
        /* Open when someone clicks on the span element */
        function openNav() {
            if (document.getElementById("myNav").style.width == "100%") {
                document.getElementById("myNav").style.width = "0";
            } else {
                document.getElementById("myNav").style.width = "100%";
            }
        }
    </script>

    <script>
        function closeNav() {
            if (document.getElementById("myNav").style.width == "100%") {
                document.getElementById("myNav").style.width = "0";
            } else {
                document.getElementById("myNav").style.width = "100%";
            }
        }
    </script>

    <script>
        const scrollUp = document.querySelector('.scrollUp');
        window.addEventListener('scroll', () => {
            if (window.pageYOffset > 100) {
                scrollUp.classList.add("active");
            } else {
                scrollUp.classList.remove("active");
            }
        })
    </script>

    <script>
        $(document).ready(function () {
            $('[data-toggle=search-form]').click(function () {
                $('.search-form-wrapper').toggleClass('open');
                $('.search-form-wrapper .search').focus();
                $('html').toggleClass('search-form-open');
            });
            $('[data-toggle=search-form-close]').click(function () {
                $('.search-form-wrapper').removeClass('open');
                $('html').removeClass('search-form-open');
            });
            $('.search-form-wrapper .search').keypress(function (event) {
                if ($(this).val() == "Search") $(this).val("");
            });
        });
    </script>

    <script>
        $(document).ready(function () {
            // Add smooth scrolling to all links
            $("a").on('click', function (event) {

                // Make sure this.hash has a value before overriding default behavior
                if (this.hash !== "") {
                    // Prevent default anchor click behavior
                    event.preventDefault();

                    // Store hash
                    var hash = this.hash;

                    // Using jQuery's animate() method to add smooth page scroll
                    // The optional number (800) specifies the number of milliseconds it takes to scroll to the specified area
                    $('html, body').animate({
                        scrollTop: $(hash).offset().top
                    }, 800, function () {

                        // Add hash (#) to URL when done scrolling (default click behavior)
                        window.location.hash = hash;
                    });
                } // End if
            });
        });
    </script>



    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

</body>

</html>