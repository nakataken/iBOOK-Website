<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

    <title>Checkout</title>
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Righteous">
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans+Condensed:300,300i,700">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/mainHome.css">

    <script src="https://kit.fontawesome.com/85f9dbedb7.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
</head>

<body>
    {{> categoryHeader}}


    <!--Single Product-->
    <hr class="my-5">
    <section class="cart-list pt-3">
        <div class="container">
            <div class="row">
                <div class="col-lg-8">

                    <h4>Items</h4>
                    {{#each book}}
                    <div class="row cart-card py-1">
                        <div class="col-md-12">
                            <div class="card">
                                <div class="card-body">
                                    <span>
                                    <div class="row">
                                        <div class="col-md-7">
                                            <div class="row d-flex align-items-center">
                                                <div class="col-md-5 col-sm-4 col-5">
                                                    <div class="d-flex align-items-center justify-content-between">
                                                        <span><img
                                                                src='http://localhost:8080/uploadedImages/{{this.item.BOOK_COVER}}'></span>
                                                    </div>
                                                </div>
                                                <div class="col-md-7 col-sm-8 col-7">
                                                    <div class="d-block">
                                                        <a href="#">
                                                            <h6 class="font-weight-bold">{{this.item.BOOK_TITLE}}</h6>
                                                        </a>
                                                        <p>{{this.item.BOOK_AUTHOR}}</p>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-5 d-flex align-items-center justify-content-around">
                                            <div class="row">
                                                <div class="col-md-12 col-sm-12 col-12 d-flex align-items-center py-3">
                                                    <div class="d-block">
                                                        <h5 class="font-weight-bold">P{{this.BOOK_PRICE}}</h5>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row quantity-picker">
                                                <div class="col-md-12 col-sm-12 col-12">
                                                   <!-- <div class="handle-counter d-flex d-inline-block"
                                                        id="handleCounter">
                                                        <h6 class="text-muted"></h6>
                                                        <input type="text" class="font-weight-bold" value={{this.qty}} disabled>
                                                    </div> -->
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                {{/each}}
                </div>
                <div class="col-lg-4">
                    <div class="row cart-card d-flex align-items-center">
                        <div class="col-md-12 py-2">
                            <div class="card check-out">
                                 
                                <div class="card-body">
                                    <div class="d-block align-items-center">
                                        <span>
                                            <hr class="my-1"></span>
                                        <span class="d-flex justify-content-center"><label>
                                                <h5 class="font-weight-bold">Order Summary</h5>
                                            </label></span>
                                        <span>
                                            <hr class="my-4"></span>
                                        <div class="d-flex align-items-center justify-content-between">
                                            <h6 class="text-muted">Total</h6>
                                            <span><label for="total-amount"
                                                    class="font-weight-bold">P{{total}}</label></span>
                                        </div>
                                        <span>
                                            <hr class="my-4"></span>
                                            
                                        <span class="d-flex justify-content-center"><label>
                                                <h5 class="font-weight-bold">Payment Method</h5>
                                            </label></span>
                                             {{#if message}}
                                                <p class="alert alert-danger text-center p-1">{{message}}</p>
                                            {{/if}}
                                        <span>
                                            <hr class="my-3"></span>
                                        <div class="payment-method d-block justify-content-start">
                                            <div class="d-block mt-3">
                                                
                                                    <div id="paymentRadioGrp"
                                                        class="form-check d-flex align-items-center">
                                                        <input class="form-check-input" type="radio" name="payment"
                                                            value="payment1" >
                                                        <span><img src="/images/gcash-icon.jpg" alt=""></span>
                                                        <label class="form-check-label font-weight-bold"
                                                            for="exampleRadios1">
                                                            GCASH
                                                        </label>
                                                    </div>
                                                    
                                                    <form action="/shop/checkout/gcash/{{user.USER_ID}}/{{#each book}}{{this.item.BOOK_ID}}/{{/each}}" method="POST">
                                                    <div class="desc" id="payment1">
                                                        <div class="d-inline-block align-items-center py-2 ml-3 gCashMethod"
                                                            id="gCashMethod">
                                                            <p class="method-text">Mobile number (11 digit):</p>
                                                            <input type="text" placeholder="+63" name="gcashNum" class="method-input"
                                                                minlength="11" maxlength="11" required>
                                                        
                                                          
                                                           
                                                            <button class="btn btn-primary mt-3 w-100 p-2" type="submit">
                                                                <h6 class="font-weight-bold">CHECKOUT</h6>
                                                            </button>
                                                            
                                                             <hr class="mx-2">
                                                        </div>
                                                    </div>
                                                     </form>
                                                   
                                                     
                                                    <div  id="paymentRadioGrp" class="form-check d-flex align-items-center">
                                                        <input class="form-check-input" type="radio" name="payment"
                                                            value="payment2">
                                                        <img src="/images/debit-cards.jpg" alt="">
                                                        <label class="form-check-label font-weight-bold"
                                                            for="exampleRadios2">
                                                            Credit/Debit Card
                                                        </label> 
                                                    </div>

                                                    <form action="/shop/checkout/card/{{user.USER_ID}}/{{#each book}}{{this.item.BOOK_ID}}/{{/each}}" method="POST">
                                                    <div class="desc" id="payment2">
                                                        <div class="d-block align-items-center py-2 ml-3 creditCardMethod"
                                                            id="creditCardMethod">
                                                            <p class="method-text">Name on card:</p>
                                                            <input type="text" class="method-input" minlength="2" name="cardName" maxlength="40"
                                                                required>
                                                            <p class="method-text mt-3">Card number:</p>
                                                            <input type="text" class="method-input" minlength="10" name="cardNum"
                                                                maxlength="16" required>
                                                            <p class="method-text mt-3">Security code:</p>
                                                            <input type="text" name="cardCCV" class="method-input" minlength="3"
                                                                maxlength="4" required>
                                                            <p class="method-text mt-3">Expiry date:</p>
                                                            <div
                                                                class="d-flex justify-content-around align-items-center">
                                                                <div class="d-block">
                                                                    <p class="method-text">Month</p>
                                                                    <select name="expMonth" class="expMonth">
                                                                        <option value="01" selected>01</option>
                                                                        <option value="02">02</option>
                                                                        <option value="03">03</option>
                                                                        <option value="04">04</option>
                                                                        <option value="05">05</option>
                                                                        <option value="06">06</option>
                                                                        <option value="07">07</option>
                                                                        <option value="08">08</option>
                                                                        <option value="09">09</option>
                                                                        <option value="10">10</option>
                                                                        <option value="11">11</option>
                                                                        <option value="12">12</option>
                                                                    </select>
                                                                </div>
                                                                <p class="method-text">/</p>
                                                                <div class="d-block">
                                                                    <p class="method-text">Year</p>
                                                                    <select name="expYear" class="expYear">
                                                                        <option value="2020" selected>2020</option>
                                                                        <option value="2021">2021</option>
                                                                        <option value="2022">2022</option>
                                                                        <option value="2023">2023</option>
                                                                        <option value="2024">2024</option>
                                                                        <option value="2025">2025</option>
                                                                    </select>
                                                                </div>
                                                            </div>
                                                           
                                                            <button class="btn btn-primary mt-3 w-100 p-2" type="submit">
                                                                <h6 class="font-weight-bold">CHECKOUT</h6>
                                                            </button>
                                                            
                                                             <hr class="mx-2">
                                                        </div>
                                                    </div>
                                                </form>
                                            </div>
                                        </div>
                                        
                                        
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!--Product Description-->



    <!--Footer-->
    <section class="footer">
        <div class="container text-left">
            <div class="row">
                <div class="col-md-4">
                    <h1>Useful Links</h1>
                    <p>Privacy Policy</p>
                    <p>Terms of Use</p>
                    <p>Return Policy</p>
                    <p>Discount Coupons</p>
                </div>
                <div class="col-md-4">
                    <h1>Company</h1>
                    <p>About Us</p>
                    <p>Contact Us</p>
                    <p>Career</p>
                    <p>Affiliate</p>
                </div>
                <div class="col-md-4">
                    <h1>Follow Us On</h1>
                    <p><i class="fa fa-facebook-official"></i> Facebook</p>
                    <p><i class="fa fa-youtube-play"></i> Youtube</p>
                    <p><i class="fa fa-linkedin"></i> Linkedin</p>
                    <p><i class="fa fa-twitter"></i> Twitter</p>
                </div>
            </div>
            <hr>
            <p class="copyright">Made with <i class="fa fa-heart-o"></i>
                by iBOOK
            </p>
        </div>



        <script type="text/javascript">
            $(window).on('scroll', function () {
                if ($(window).scrollTop()) {
                    $('nav').addClass('black');
                } else {
                    $('nav').removeClass('black');
                }
            })
        </script>

        <script>
            /* Open when someone clicks on the span element */
            function openNav() {
                if (document.getElementById("myNav").style.width == "100%") {
                    document.getElementById("myNav").style.width = "0";
                } else {
                    document.getElementById("myNav").style.width = "100%";
                }
            }
        </script>

        <script>
            function closeNav() {
                if (document.getElementById("myNav").style.width == "100%") {
                    document.getElementById("myNav").style.width = "0";
                } else {
                    document.getElementById("myNav").style.width = "100%";
                }
            }
        </script>

        <script>
            const scrollUp = document.querySelector('.scrollUp');
            window.addEventListener('scroll', () => {
                if (window.pageYOffset > 100) {
                    scrollUp.classList.add("active");
                } else {
                    scrollUp.classList.remove("active");
                }
            })
        </script>

        <script>
            $(document).ready(function () {
                $('[data-toggle=search-form]').click(function () {
                    $('.search-form-wrapper').toggleClass('open');
                    $('.search-form-wrapper .search').focus();
                    $('html').toggleClass('search-form-open');
                });
                $('[data-toggle=search-form-close]').click(function () {
                    $('.search-form-wrapper').removeClass('open');
                    $('html').removeClass('search-form-open');
                });
                $('.search-form-wrapper .search').keypress(function (event) {
                    if ($(this).val() == "Search") $(this).val("");
                });
            });
        </script>

        <script>
            $(document).ready(function () {
                // Add smooth scrolling to all links
                $("a").on('click', function (event) {

                    // Make sure this.hash has a value before overriding default behavior
                    if (this.hash !== "") {
                        // Prevent default anchor click behavior
                        event.preventDefault();

                        // Store hash
                        var hash = this.hash;

                        // Using jQuery's animate() method to add smooth page scroll
                        // The optional number (800) specifies the number of milliseconds it takes to scroll to the specified area
                        $('html, body').animate({
                            scrollTop: $(hash).offset().top
                        }, 800, function () {

                            // Add hash (#) to URL when done scrolling (default click behavior)
                            window.location.hash = hash;
                        });
                    } // End if
                });
            });
        </script>

        <script>
            $(document).ready(function() {
                $("div.desc").hide();
                $("input[name$='payment']").click(function() {
                    var test = $(this).val();
                    $("div.desc").hide();
                    $("#" + test).show();
                });
            });
        </script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="https://js.stripe.com/v2/"></script>

</body>

</html>