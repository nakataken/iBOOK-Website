<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

    <title>Main Page</title>
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Righteous">
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans+Condensed:300,300i,700">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="/css/mainHome.css">

    <script src="https://kit.fontawesome.com/85f9dbedb7.js"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.js"></script>
</head>

<body>

    {{> categoryHeader}}

    <div class="mx-auto pt-5 container-fluid col-12  new mt-5">
 
        <div class="container mx-auto col-12">
            
            
            <div class="container row col-sm-12 col-10 mt-4 mx-auto">
                
               
                    <div class="mx-auto  best-card col-xl-8 col-md-10 col-sm-10 col-12 p-4 align-items-center">
                        <a href="http://localhost:8080/display/{{this.BOOK_CATEGORY}}/{{this.BOOK_TITLE}}"></a>
                        <div class="row">
                            <h1>{{userID}}</h1>
                             {{#each book}}
                            <div class="col-xl-4 col-lg-6 col-md-10  right mb-5 mt-sm-5 mx-auto">
                                <div class="book-cover-new col-12">
                                        
                                         
                                        <img src='http://localhost:8080/uploadedImages/{{this.BOOK_COVER}}' class="img-fluid img">
                                       
                                </div>
                            </div>

                            <div class="left column col-xl-8 col-lg-6 col-md-10 mx-auto my-auto"> 
                                <button type="button" class="btn btn-categ px-5"> {{this.BOOK_CATEGORY}}</button>
                                <h3> {{this.BOOK_TITLE}}</h3>
                                <button type="button" class="btn btn-autor px-5"> {{this.BOOK_AUTHOR}}</button>
                               
                            
                                 
                                
                                
                                <div class="col-12 row px-0 my-1">
                                    <div class="col-xl-8 col-md-6 col-12">
                                        <p class="tag-title my-0">PRICE:</p>
                                        <h4 class="my-0 tag-price">P {{this.BOOK_PRICE}}</h4>
                                    </div>
                                    <div class="col-xl-4 col-md-6 col-12">
                                        <p class="tag-title my-0">RATINGS:</p>
                                        <div class="row stars px-3 my-1">
                                            <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                            <i class="fa fa-star"></i>
                                        </div>
                                    </div>
                                </div>
                                
                                <p class="col-12 px-0">{{this.BOOK_DESC}}</p>
                                
                                <form action="/add/{{this.BOOK_ID}}" method="GET" class="row col-12 px-1" >
                                    <div class="col-xl-6 col-12 my-1 ">
                                        <button type="button" class="btn btn-search col-12"  onclick="this.form.submit()"><i class="fas fa-heart"></i> ADD TO WISHLIST</button>
                                    </div>
                                    <div class="col-xl-6 col-12 my-1">
                                        <button type="button" class="btn btn-search col-12 "  onclick="this.form.submit()"><i class="fas fa-shopping-cart"></i> ADD TO CART</button>
                                    </div>
                                    
                                </form>
                                
                                {{/each}}
                            </div>
                        </div>
                    </div>
                    
                
              
            </div>
               
        </div>
        
    </div>
   
    <div class="space"></div>
    

    <!--Footer-->
    <section class="footer">
        <div class="container-fluid text-left mx-auto col-12 ">
            <div class="row col-xl-8 col-lg-12 col-10 mx-auto py-4">
                <div class=" col-lg-4 col-10 my-1 mx-auto">
                    <div class="col-8 p-0 ">
                        <a href="/">
                            <img src="images/new/logo-white-2.png" class="col-10"></a>
                    </div>

                     <div class="col-12 mx-auto mt-3">
                                <i class="fab fa-facebook-square fa-2x pr-1"></i>
                                <i class="fab fa-twitter-square fa-2x px-1"></i>
                                <i class="fab fa-instagram-square fa-2x px-1"></i>
                                <i class="fab fa-linkedin  fa-2x pl-1"></i>
                    </div>
                    <div class="column col-12 mt-3">
                        <h3>Contact Us</h3>
                        <p class="mb-1">Questions? We've got answers.</p>
                        <button type="button" class="btn btn-contact-us py-1 px-2 ">Contact Us</button>
                    </div>
                </div>

                <div class="row col-lg-4 col-10 my-1 mx-auto">
                    <div class="column col-12 ">
                        <h3>About Us</h3>
                        <div class="row col-12">
                            <div class="col-1">
                                <i class="fas fa-map-marker-alt"></i>
                            </div>
                            <div class="col-10">
                                <p class="m-1">7525 Carriage Ave.Dekalb, IL 60115 7525 Carriage Ave.Dekalb, IL 60115</p>
                            </div>
                        </div>
                        <div class="row col-12 mt-1">
                            <div class="col-1">
                                <i class="fas fa-phone"></i>
                            </div>
                            <div class="col-10">
                                <p class="m-1">+1-202-555-0151</p>
                            </div>
                        </div>
                        <div class="row col-12 mt-2">
                            <div class="col-1">
                                <i class="fas fa-envelope"></i>
                            </div>
                            <div class="col-10">
                                <p class="m-1">e-bookasyon.us@domain.com</p>
                            </div>
                        </div>
                        
                        
                    </div>
                </div>

                <div class="row col-lg-4 col-10 my-1 mx-auto">
                    <div class="column col-12 ">
                        <h3>Subscribe</h3>
                        <div class="form-group col-12 p-0">
                            <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" placeholder="Enter email">
                        </div>
                        <div class="col-12 p-0">
                              <button type="submit" class="btn btn-subscribe col-12">Subscribe</button>
                        </div>
                      
                        
                        
                        
                    </div>
                </div>

                
            </div>
           
        </div>
    </section>



        <script type="text/javascript">
            $(window).on('scroll', function () {
                if ($(window).scrollTop()) {
                    $('nav').addClass('black');
                } else {
                    $('nav').removeClass('black');
                }
            })
        </script>

        <script>
            /* Open when someone clicks on the span element */
            function openNav() {
                if (document.getElementById("myNav").style.width == "100%") {
                    document.getElementById("myNav").style.width = "0";
                } else {
                    document.getElementById("myNav").style.width = "100%";
                }
            }
        </script>

        <script>
            function closeNav() {
                if (document.getElementById("myNav").style.width == "100%") {
                    document.getElementById("myNav").style.width = "0";
                } else {
                    document.getElementById("myNav").style.width = "100%";
                }
            }
        </script>

        <script>
            const scrollUp = document.querySelector('.scrollUp');
            window.addEventListener('scroll', () => {
                if (window.pageYOffset > 100) {
                    scrollUp.classList.add("active");
                } else {
                    scrollUp.classList.remove("active");
                }
            })
        </script>

        <script>
            $(document).ready(function () {
                $('[data-toggle=search-form]').click(function () {
                    $('.search-form-wrapper').toggleClass('open');
                    $('.search-form-wrapper .search').focus();
                    $('html').toggleClass('search-form-open');
                });
                $('[data-toggle=search-form-close]').click(function () {
                    $('.search-form-wrapper').removeClass('open');
                    $('html').removeClass('search-form-open');
                });
                $('.search-form-wrapper .search').keypress(function (event) {
                    if ($(this).val() == "Search") $(this).val("");
                });
            });
        </script>

        <script>
            $(document).ready(function () {
                // Add smooth scrolling to all links
                $("a").on('click', function (event) {

                    // Make sure this.hash has a value before overriding default behavior
                    if (this.hash !== "") {
                        // Prevent default anchor click behavior
                        event.preventDefault();

                        // Store hash
                        var hash = this.hash;

                        // Using jQuery's animate() method to add smooth page scroll
                        // The optional number (800) specifies the number of milliseconds it takes to scroll to the specified area
                        $('html, body').animate({
                            scrollTop: $(hash).offset().top
                        }, 800, function () {

                            // Add hash (#) to URL when done scrolling (default click behavior)
                            window.location.hash = hash;
                        });
                    } // End if
                });
            });
        </script>

        <script>
            
                $('.btn-number').click(function(e){
                    e.preventDefault();
                    
                    fieldName = $(this).attr('data-field');
                    type      = $(this).attr('data-type');
                    var input = $("input[name='"+fieldName+"']");
                    var currentVal = parseInt(input.val());
                    if (!isNaN(currentVal)) {
                        if(type == 'minus') {
                            
                            if(currentVal > input.attr('min')) {
                                input.val(currentVal - 1).change();
                            } 
                            if(parseInt(input.val()) == input.attr('min')) {
                                $(this).attr('disabled', true);
                            }

                        } else if(type == 'plus') {

                            if(currentVal < input.attr('max')) {
                                input.val(currentVal + 1).change();
                            }
                            if(parseInt(input.val()) == input.attr('max')) {
                                $(this).attr('disabled', true);
                            }

                        }
                    } else {
                        input.val(0);
                    }
                });
                $('.input-number').focusin(function(){
                $(this).data('oldValue', $(this).val());
                });
                $('.input-number').change(function() {
                    
                    minValue =  parseInt($(this).attr('min'));
                    maxValue =  parseInt($(this).attr('max'));
                    valueCurrent = parseInt($(this).val());
                    
                    name = $(this).attr('name');
                    if(valueCurrent >= minValue) {
                        $(".btn-number[data-type='minus'][data-field='"+name+"']").removeAttr('disabled')
                    } else {
                        alert('Sorry, the minimum value was reached');
                        $(this).val($(this).data('oldValue'));
                    }
                    if(valueCurrent <= maxValue) {
                        $(".btn-number[data-type='plus'][data-field='"+name+"']").removeAttr('disabled')
                    } else {
                        alert('Sorry, the maximum value was reached');
                        $(this).val($(this).data('oldValue'));
                    }
                    
                    
                });
                $(".input-number").keydown(function (e) {
                        // Allow: backspace, delete, tab, escape, enter and .
                        if ($.inArray(e.keyCode, [46, 8, 9, 27, 13, 190]) !== -1 ||
                            // Allow: Ctrl+A
                            (e.keyCode == 65 && e.ctrlKey === true) || 
                            // Allow: home, end, left, right
                            (e.keyCode >= 35 && e.keyCode <= 39)) {
                                // let it happen, don't do anything
                                return;
                        }
                        // Ensure that it is a number and stop the keypress
                        if ((e.shiftKey || (e.keyCode < 48 || e.keyCode > 57)) && (e.keyCode < 96 || e.keyCode > 105)) {
                            e.preventDefault();
                        }
                    });
        </script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"></script>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>

        {{> alertMessage}}

</body>

</html>
